


> Written with [StackEdit](https://stackedit.io/).

## QBus-Mario测试报告##

### 测试架构图 ###

### 测试假设 ###
（1）用Maria替换AsyncWoker，直接调用producer类进行消息发送
（2）AsyncCollectThread将消息交给Maria后，由Maria保证消息发送出去


### 测试环境 ###
集群：rtest（三台broker）
Agent机器：mq04v.add.zwt.qihoo.net（虚拟机，四核）
Maria：memory类型

### Agent-Maria测试结果 ###
#### 磁盘类型 ####
|  消息大小（B）/并发数  |   1    | 2  | 4 | 8 | 16 | 32 |
| ------------- |:-------------:| -----:|
| **96** | 1843 | 3108 | 5148 | 9288 | 16088 | 19139 |
| **248** | 1811 | 2998 | 5028 | 8615 | 14489 | 17951 |
| **514** | 1690 | 2847 | 4711 | 8058 | 12379 | 16986 |
| **1008** | 1508 | 2547 | 4521 | 7801 | 12511 | 14456 |

#### Agent测试结果 ####
|  消息大小（B）/并发数  |   1    | 2  | 4 | 8 | 16 | 32 |
| ------------- |:-------------:| -----:|	
| **96** | 4426 | 5578 | 8483 | 10721	| 12725	 |  16966 | 
| **248** | 3947 | 4604 |  6471 | 8663 | 12602 | 12385 |
| **514** | 2434 | 3618 | 4640 | 7887 | 8959 |10378 |
| **1008** | 2348 | 2666 | 4153 | 6164 | 7890 | 8767 |

#### 结果对比 ####


### 结论 ###
